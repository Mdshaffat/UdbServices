@model IEnumerable<UdbService.Models.Order>
@using UdbService.Utility

<div class="table-responsive table-striped p-5">

    <br /><br />
    <br /><br />
          <table class="table">
              @if (Model.Count() > 0)

              {
                  <thead class="thead-dark">
                      <tr>
                          <th scope="col">OrderId</th>
                          <th scope="col">Name</th>
                          <th scope="col">Phone</th>
                          <th scope="col">Email</th>
                          <th scope="col">Count</th>
                          <th scope="col">Status</th>
                          <th scope="col"></th>
                          <th scope="col"></th>
                      </tr>
                  </thead>
                  <tbody>


                      @foreach (var item in Model)
                      {
                          <tr>
                              <td scope="row">
                                  @Html.DisplayFor(modelItem => item.Id)
                              </td>

                              <td>
                                  @Html.DisplayFor(modelItem => item.Name)
                              </td>
                              <td>
                                  @Html.DisplayFor(modelItem => item.Phone)
                              </td>

                              <td>
                                  @Html.DisplayFor(modelItem => item.Email)
                              </td>
                              <td>
                                  @Html.DisplayFor(modelItem => item.ServiceCount)
                              </td>
                              <td>
                                  @Html.DisplayFor(modelItem => item.Status)
                              </td>
                              <td>
                                  <div class="text-center">
                                      <a asp-action="Details" asp-route-id="@item.Id" class='btn btn-success text-white' style='cursor:pointer;'>
                                          <i class='far fa-edit'></i> Details
                                      </a>
                                  </div>
                              </td>
                              <td>
                                  @if (item.Status != SD.StatusApproved && item.Status != SD.StatusRejected)
                                  {

                                      <div class="col-6 col-md-4 col-lg-2">
                                          <a asp-action="Reject" asp-route-id="@item.Id" class="btn btn-danger">Reject</a>
                                      </div>
                                  }
                                  else
                                  {
                                      @Html.DisplayFor(modelItem => item.Status)
                                  }
                              </td>


                          </tr>
                      }

                  </tbody>
              }
              else
              {
                <p>Welcome Sir!!! You have not yet placed an order. Please place your first order.</p>
              }
          </table>


</div>

@section Scripts{
    <script src="~/js/orders.js"></script>
}
